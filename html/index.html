<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home</title>
  <link rel="stylesheet" href="/style/index.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <a href="/login">Login</a>
      <a href="/create-article" class="button">Create a New Article</a>
    </div>

    <h1>Kabar Terbaru</h1>

    <ul>
      <% if (it.articles.length === 0) { %>
        <p>No articles yet.</p>
      <% } else { %>
        <% it.articles.forEach(article => { %>
          <li class="article">
						<div class="article-content">
							<% if (article.images && article.images.length > 0) { %>
								<img src="<%= article.images[0] %>" alt="Article Image">
							<% } %>
							<div>
								<h2>
									<a href="/news/<%= article.id %>"><%= article.title %></a>
								</h2>
								<p>
									<%= article.content.length > 100 
										? article.content.substring(0, 100) + ' <a href="/news/' + article.id + '" class="read-more">Selengkapnya</a>' 
										: article.content 
									%>
								</p>
							</div>
						</div>
					</li>
        <% }) %>
      <% } %>
    </ul>

    <!-- Pagination Links -->
    <div class="pagination">
      <% if (it.prevPage) { %>
        <a href="/?page=<%= it.prevPage %>&limit=5">Previous</a>
      <% } %>
      <% if (it.nextPage) { %>
        <a href="/?page=<%= it.nextPage %>&limit=5">Next</a>
      <% } %>
    </div>
  </div>
</body>
</html>